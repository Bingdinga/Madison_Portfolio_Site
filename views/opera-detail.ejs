<%- include('partials/header') %>

<article class="opera-detail">
  <div class="container">
    <div class="opera-header">
      <h1><%= opera.title %></h1>
      <p class="composer">Composed by <%= opera.composer %></p>
      <p class="production-info"><%= opera.venue %>, <%= opera.year %></p>
      <p class="role">Role: <%= opera.role %></p>
    </div>
    
    <div class="opera-featured-image">
      <img src="<%= opera.featuredImage %>" alt="<%= opera.title %>">
    </div>
    
    <div class="opera-description">
      <h2>About the Production</h2>
      <p><%= opera.description %></p>
    </div>
    
    <div class="opera-gallery">
      <h2>Production Gallery</h2>
      
      <!-- Simple Slideshow Container -->
      <div id="gallerySlideshow" class="gallery-slideshow">
        <div class="gallery-slides">
          <% opera.gallery.forEach((image, index) => { %>
            <% if (index === 0) { %>
              <div class="gallery-slide visible">
            <% } else { %>
              <div class="gallery-slide hidden">
            <% } %>
                <img src="<%= image %>" alt="<%= opera.title %> - Image <%= index + 1 %>">
              </div>
          <% }); %>
        </div>
        
        <!-- Navigation Buttons -->
        <button class="gallery-nav gallery-prev">&laquo;</button>
        <button class="gallery-nav gallery-next">&raquo;</button>
        
        <!-- Indicators -->
        <div class="gallery-indicators">
          <% opera.gallery.forEach((_, index) => { %>
            <span class="gallery-dot <%= index === 0 ? 'active' : '' %>" data-slide="<%= index %>"></span>
          <% }); %>
        </div>
      </div>
    </div>
    
    <!-- <% if (opera.reviews && opera.reviews.length > 0) { %>
      <div class="reviews">
        <h2>Reviews</h2>
        <div class="reviews-list">
          <% opera.reviews.forEach(review => { %>
            <blockquote class="review">
              <p>"<%= review.quote %>"</p>
              <cite>â€” <%= review.author %></cite>
            </blockquote>
          <% }); %>
        </div>
      </div>
    <% } %> -->
    
    <div class="opera-nav">
      <a href="/operas" class="btn secondary-btn">Back to All Operas</a>
    </div>
  </div>
</article>

<%- include('partials/footer') %>